<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teacher Form Test - No Page Reload</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- EmailJS SDK -->
    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <!-- Configuration -->
    <script src="config.js"></script>
    
    <script>
        (function() {
            emailjs.init(window.APP_CONFIG.EMAILJS_PUBLIC_KEY);
            console.log('EmailJS initialized with key:', window.APP_CONFIG.EMAILJS_PUBLIC_KEY);
            console.log('EmailJS version:', emailjs.version);
        })();
    </script>
</head>
<body class="bg-gray-100 p-8">
    <div class="max-w-4xl mx-auto">
        <h1 class="text-3xl font-bold text-gray-800 mb-8">Teacher Form Test - No Page Reload</h1>
        
        <div class="bg-white p-6 rounded-lg shadow-lg mb-6">
            <h2 class="text-xl font-semibold mb-4">Test Instructions:</h2>
            <ol class="list-decimal list-inside space-y-2 text-gray-700">
                <li>Fill out the teacher application form below</li>
                <li>Click "Submit Application"</li>
                <li>Verify that the page does NOT reload</li>
                <li>Check that EmailJS sends the email successfully</li>
                <li>Check the browser console for debug logs</li>
            </ol>
        </div>
        
        <div class="bg-white p-6 rounded-lg shadow-lg mb-6">
            <h2 class="text-xl font-semibold mb-4">Teacher Application Form:</h2>
            
            <!-- Beautiful Teacher Application Form -->
            <div class="bg-gray-800/50 backdrop-blur-sm border border-gray-700/50 rounded-2xl p-8 shadow-xl max-w-2xl mx-auto">
                <h3 class="text-2xl font-bold mb-8 text-cyan-300 text-center">Teacher Application Form</h3>
                
                <form id="teacher-form" class="space-y-6">
                    <!-- Full Name -->
                    <div>
                        <label for="fullName" class="block text-sm font-medium text-gray-300 mb-2">Full Name *</label>
                        <input
                            type="text"
                            id="fullName"
                            name="fullName"
                            required
                            class="w-full px-4 py-3 rounded-xl border border-gray-600 bg-gray-700/50 text-white placeholder-gray-400 focus:ring-2 focus:ring-purple-400 focus:border-transparent outline-none transition-all duration-300 hover:border-gray-500"
                            placeholder="Enter your full name"
                        />
                    </div>

                    <!-- Educational Institution -->
                    <div>
                        <label for="institution" class="block text-sm font-medium text-gray-300 mb-2">Educational Institution *</label>
                        <input
                            type="text"
                            id="institution"
                            name="institution"
                            required
                            class="w-full px-4 py-3 rounded-xl border border-gray-600 bg-gray-700/50 text-white placeholder-gray-400 focus:ring-2 focus:ring-purple-400 focus:border-transparent outline-none transition-all duration-300 hover:border-gray-500"
                            placeholder="e.g., Bishkek International School"
                        />
                    </div>

                    <!-- Email for Lessons -->
                    <div>
                        <label for="lessonEmail" class="block text-sm font-medium text-gray-300 mb-2">Email for Lessons *</label>
                        <input
                            type="email"
                            id="lessonEmail"
                            name="lessonEmail"
                            required
                            class="w-full px-4 py-3 rounded-xl border border-gray-600 bg-gray-700/50 text-white placeholder-gray-400 focus:ring-2 focus:ring-purple-400 focus:border-transparent outline-none transition-all duration-300 hover:border-gray-500"
                            placeholder="your.email@example.com"
                        />
                    </div>

                    <!-- Telegram Username -->
                    <div>
                        <label for="telegram" class="block text-sm font-medium text-gray-300 mb-2">Telegram Username *</label>
                        <input
                            type="text"
                            id="telegram"
                            name="telegram"
                            required
                            class="w-full px-4 py-3 rounded-xl border border-gray-600 bg-gray-700/50 text-white placeholder-gray-400 focus:ring-2 focus:ring-purple-400 focus:border-transparent outline-none transition-all duration-300 hover:border-gray-500"
                            placeholder="@username"
                        />
                    </div>

                    <!-- Subjects -->
                    <div>
                        <label for="subjects" class="block text-sm font-medium text-gray-300 mb-2">Subjects You Can Teach *</label>
                        <input
                            type="text"
                            id="subjects"
                            name="subjects"
                            required
                            class="w-full px-4 py-3 rounded-xl border border-gray-600 bg-gray-700/50 text-white placeholder-gray-400 focus:ring-2 focus:ring-purple-400 focus:border-transparent outline-none transition-all duration-300 hover:border-gray-500"
                            placeholder="e.g., Math, English, Science"
                        />
                    </div>

                    <!-- Available Times -->
                    <div>
                        <label for="availability" class="block text-sm font-medium text-gray-300 mb-2">Available Times *</label>
                        <input
                            type="text"
                            id="availability"
                            name="availability"
                            required
                            class="w-full px-4 py-3 rounded-xl border border-gray-600 bg-gray-700/50 text-white placeholder-gray-400 focus:ring-2 focus:ring-purple-400 focus:border-transparent outline-none transition-all duration-300 hover:border-gray-500"
                            placeholder="e.g., Weekdays 16:00-20:00, Weekends 10:00-18:00"
                        />
                    </div>

                    <!-- Motivation -->
                    <div>
                        <label for="motivation" class="block text-sm font-medium text-gray-300 mb-2">Why do you want to become a volunteer teacher? *</label>
                        <textarea
                            id="motivation"
                            name="motivation"
                            required
                            rows="4"
                            class="w-full px-4 py-3 rounded-xl border border-gray-600 bg-gray-700/50 text-white placeholder-gray-400 focus:ring-2 focus:ring-purple-400 focus:border-transparent outline-none transition-all duration-300 hover:border-gray-500 resize-none"
                            placeholder="Tell us about your motivation and what you hope to achieve..."
                        ></textarea>
                    </div>

                    <!-- Submit Button -->
                    <button
                        type="submit"
                        id="submit-application"
                        class="w-full px-6 py-3 bg-gradient-to-r from-purple-500 via-pink-500 to-indigo-500 hover:scale-105 transition-all duration-300 text-white font-semibold rounded-xl hover:shadow-xl hover:brightness-110"
                    >
                        Submit Application
                    </button>
                    


                    <!-- Status Messages -->
                    <div id="form-status" class="hidden mt-4 p-4 rounded-xl text-center">
                        <div id="success-message" class="hidden bg-green-500/20 border border-green-400/30 text-green-300">
                            ✅ Your application has been sent!
                        </div>
                        <div id="error-message" class="hidden bg-red-500/20 border border-red-400/30 text-red-300">
                            ❌ Failed to send. Please try again later.
                        </div>
                        <div id="loading-message" class="hidden bg-blue-500/20 border border-blue-400/30 text-blue-300">
                            <svg class="animate-spin inline-block w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                                <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" strokeWidth="4"></circle>
                                <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                            </svg>
                            Sending...
                        </div>
                    </div>
                </form>
            </div>
        </div>
        
        <div class="bg-white p-6 rounded-lg shadow-lg">
            <h2 class="text-xl font-semibold mb-4">Console Logs:</h2>
            <div id="console-logs" class="bg-gray-900 text-green-400 p-4 rounded font-mono text-sm h-64 overflow-y-auto">
                <div>Console logs will appear here...</div>
            </div>
        </div>
    </div>
    
    <script src="script.js"></script>
    <script>
        // Capture console logs
        const originalLog = console.log;
        const originalError = console.error;
        const logsDiv = document.getElementById('console-logs');
        
        function addLog(message, type = 'log') {
            const div = document.createElement('div');
            div.className = type === 'error' ? 'text-red-400' : 'text-green-400';
            div.textContent = `[${new Date().toLocaleTimeString()}] ${message}`;
            logsDiv.appendChild(div);
            logsDiv.scrollTop = logsDiv.scrollHeight;
        }
        
        console.log = function(...args) {
            originalLog.apply(console, args);
            addLog(args.join(' '));
        };
        
        console.error = function(...args) {
            originalError.apply(console, args);
            addLog(args.join(' '), 'error');
        };
        
        // Test page load
        console.log('Test page loaded successfully');
        console.log('EmailJS available:', typeof emailjs !== 'undefined');
        console.log('Teacher form functions available:', {
            initTeacherApplicationForm: typeof initTeacherApplicationForm
        });
        
        // Test form submission prevention
        document.addEventListener('submit', function(e) {
            console.log('Global submit event detected:', e.target.id);
        });
        
        // Test button click prevention
        document.addEventListener('click', function(e) {
            if (e.target.id === 'submit-application') {
                console.log('Submit button click detected globally');
            }
        });
    </script>
</body>
</html> 